<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>无缝滚动2</title>
<style>
*{margin:0;padding:0;}
#demo{/*width: 800px;*/height: 400px;position: relative;}
#wrap{/*width: 800px;*/height: 400px;position: relative;overflow: hidden;}
#wrap ul{list-style: none;position: absolute;left: -1000px;top: 0;}
#wrap ul li{float: left;width:250px;height: 400px;}
</style>
</head>
<body>
<input type="button" value="向左移动" id="btn1">	
<input type="button" value="停止" id="btn2">	
<input type="button" value="向右移动" id="btn3">	

<div id="demo">
<div id="wrap">
	<ul>
		<li><img src="images/light/deng1.png" alt=""></li>
		<li><img src="images/light/deng2.png" alt=""></li>
		<li><img src="images/light/deng3.png" alt=""></li>
		<li><img src="images/light/deng4.png" alt=""></li>
	</ul>
</div>
</div>
<script>
	var oBtn1=document.getElementById('btn1');
	var oBtn2=document.getElementById('btn2');
	var oBtn3=document.getElementById('btn3');
	var oUl=document.getElementsByTagName('ul')[0];
	var aLi=document.getElementsByTagName('li');
	var timer1=null;
	var timer2=null;
	//设置得足够宽的话,整个屏幕都可以随便的移动了...
	oUl.innerHTML=oUl.innerHTML+oUl.innerHTML+oUl.innerHTML;

	oUl.style.width=aLi[0].offsetWidth*aLi.length+"px";
	oBtn1.onclick=function(){
		clearInterval(timer1);
		timer1=setInterval(moveleft,30);
	}
	function moveleft(){
		oUl.style.left=oUl.offsetLeft -2 + "px";
		if(oUl.offsetLeft< -oUl.offsetWidth/3){
			oUl.style.left=0;
		}
	}
	function moveright(){
		oUl.style.left=oUl.offsetLeft +2 + "px";
		if(oUl.offsetLeft===0){
			oUl.style.left= -1000+'px';
		}
	}
	oBtn2.onclick=function(){
		clearInterval(timer1);
		clearInterval(timer2);
	}
	oBtn3.onclick=function(){
		clearInterval(timer2);
		timer2=setInterval(moveright,30);
	}
</script>
</body>
</html>